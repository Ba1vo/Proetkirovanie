{"ast":null,"code":"import{Children,cloneElement}from'react';import{useForm}from'react-hook-form';import'./style.scss';import{jsx as _jsx}from\"react/jsx-runtime\";var BaseForm=function BaseForm(_ref){var onSubmit=_ref.onSubmit,children=_ref.children;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,setError=_useForm.setError,errors=_useForm.formState.errors;var submitHandler=function submitHandler(data){onSubmit(data,setError,reset);};return/*#__PURE__*/_jsx(\"form\",{className:\"form\",onSubmit:handleSubmit(submitHandler),children:Children.map(children,function(child){var name=child.props.name;if(name){return/*#__PURE__*/cloneElement(child,{register:register,error:errors[name]});}return child;})});};export default BaseForm;","map":{"version":3,"names":["Children","cloneElement","useForm","jsx","_jsx","BaseForm","_ref","onSubmit","children","_useForm","register","handleSubmit","reset","setError","errors","formState","submitHandler","data","className","map","child","name","props","error"],"sources":["C:/Users/1/Proetkirovanie/ui/src/components/forms/BaseForm/index.jsx"],"sourcesContent":["import { Children, cloneElement } from 'react'\n\nimport PropTypes from 'prop-types'\nimport { useForm } from 'react-hook-form'\n\nimport './style.scss'\n\nconst BaseForm = ({ onSubmit, children }) => {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setError,\n    formState: { errors },\n  } = useForm()\n\n  const submitHandler = (data) => {\n    onSubmit(data, setError, reset)\n  }\n\n  return (\n    <form className='form' onSubmit={handleSubmit(submitHandler)}>\n      {Children.map(children, (child) => {\n        const { name } = child.props\n        if (name) {\n          return cloneElement(child, { register, error: errors[name] })\n        }\n        return child\n      })}\n    </form>\n  )\n}\n\nBaseForm.propTypes = {\n  onSubmit: PropTypes.func,\n  children: PropTypes.node,\n}\n\nexport default BaseForm\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,YAAY,KAAQ,OAAO,CAG9C,OAASC,OAAO,KAAQ,iBAAiB,CAEzC,MAAO,cAAc,QAAAC,GAAA,IAAAC,IAAA,yBAErB,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAAC,IAAA,CAA+B,IAAzB,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CACpC,IAAAC,QAAA,CAMIP,OAAO,EAAE,CALXQ,QAAQ,CAAAD,QAAA,CAARC,QAAQ,CACRC,YAAY,CAAAF,QAAA,CAAZE,YAAY,CACZC,KAAK,CAAAH,QAAA,CAALG,KAAK,CACLC,QAAQ,CAAAJ,QAAA,CAARI,QAAQ,CACKC,MAAM,CAAAL,QAAA,CAAnBM,SAAS,CAAID,MAAM,CAGrB,GAAM,CAAAE,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,IAAI,CAAK,CAC9BV,QAAQ,CAACU,IAAI,CAAEJ,QAAQ,CAAED,KAAK,CAAC,CACjC,CAAC,CAED,mBACER,IAAA,SAAMc,SAAS,CAAC,MAAM,CAACX,QAAQ,CAAEI,YAAY,CAACK,aAAa,CAAE,CAAAR,QAAA,CAC1DR,QAAQ,CAACmB,GAAG,CAACX,QAAQ,CAAE,SAACY,KAAK,CAAK,CACjC,GAAQ,CAAAC,IAAI,CAAKD,KAAK,CAACE,KAAK,CAApBD,IAAI,CACZ,GAAIA,IAAI,CAAE,CACR,mBAAOpB,YAAY,CAACmB,KAAK,CAAE,CAAEV,QAAQ,CAARA,QAAQ,CAAEa,KAAK,CAAET,MAAM,CAACO,IAAI,CAAE,CAAC,CAAC,CAC/D,CACA,MAAO,CAAAD,KAAK,CACd,CAAC,CAAC,EACG,CAEX,CAAC,CAOD,cAAe,CAAAf,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}