{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/1/Proetkirovanie/ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/1/Proetkirovanie/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';//import { login } from '../../../slices/authSlice'\nimport{EmailField,PasswordField}from'../../form-fields';import LoadingButton from'../../LoadingButton';import BaseForm from'../BaseForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(_ref){var setServerError=_ref.setServerError;var dispatch=useDispatch();var loading=useSelector(function(state){return state.auth.loading;});var navigate=useNavigate();var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user,setError){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:try{//await dispatch(login(user)).unwrap()\nnavigate('/');}catch(error){if(error.field){setError(error.field,{type:'custom',message:error.detail});}else{setServerError('Непредвиденная ошибка');}}case 1:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(BaseForm,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(EmailField,{name:\"email\",placeholder:\"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430\",required:true}),/*#__PURE__*/_jsx(PasswordField,{name:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true}),/*#__PURE__*/_jsx(LoadingButton,{type:\"submit\",loading:loading,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]});};export default LoginForm;","map":{"version":3,"names":["useDispatch","useSelector","useNavigate","EmailField","PasswordField","LoadingButton","BaseForm","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","setServerError","dispatch","loading","state","auth","navigate","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","setError","wrap","_callee$","_context","prev","next","error","field","type","message","detail","stop","_x","_x2","apply","arguments","children","name","placeholder","required"],"sources":["C:/Users/1/Proetkirovanie/ui/src/components/forms/LoginForm/index.jsx"],"sourcesContent":["import PropTypes from 'prop-types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\n\n//import { login } from '../../../slices/authSlice'\nimport { EmailField, PasswordField } from '../../form-fields'\nimport LoadingButton from '../../LoadingButton'\nimport BaseForm from '../BaseForm'\n\nconst LoginForm = ({ setServerError }) => {\n  const dispatch = useDispatch()\n  const loading = useSelector((state) => state.auth.loading)\n  const navigate = useNavigate()\n\n  const onSubmit = async (user, setError) => {\n    try {\n      //await dispatch(login(user)).unwrap()\n      navigate('/')\n    } catch (error) {\n      if (error.field) {\n        setError(error.field, { type: 'custom', message: error.detail })\n      } else {\n        setServerError('Непредвиденная ошибка')\n      }\n    }\n  }\n\n  return (\n    <BaseForm onSubmit={onSubmit}>\n      <EmailField name='email' placeholder='Электронная почта' required />\n      <PasswordField name='password' placeholder='Пароль' required />\n      <LoadingButton type='submit' loading={loading}>\n        Войти\n      </LoadingButton>\n    </BaseForm>\n  )\n}\n\nLoginForm.propTypes = {\n  setServerError: PropTypes.func,\n}\n\nexport default LoginForm\n"],"mappings":"oPACA,OAASA,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C;AACA,OAASC,UAAU,CAAEC,aAAa,KAAQ,mBAAmB,CAC7D,MAAO,CAAAC,aAAa,KAAM,qBAAqB,CAC/C,MAAO,CAAAC,QAAQ,KAAM,aAAa,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAAC,IAAA,CAA2B,IAArB,CAAAC,cAAc,CAAAD,IAAA,CAAdC,cAAc,CACjC,GAAM,CAAAC,QAAQ,CAAGd,WAAW,EAAE,CAC9B,GAAM,CAAAe,OAAO,CAAGd,WAAW,CAAC,SAACe,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,CAACF,OAAO,GAAC,CAC1D,GAAM,CAAAG,QAAQ,CAAGhB,WAAW,EAAE,CAE9B,GAAM,CAAAiB,QAAQ,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,IAAI,CAAEC,QAAQ,SAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACpC,GAAI,CACF;AACAb,QAAQ,CAAC,GAAG,CAAC,CACf,CAAE,MAAOc,KAAK,CAAE,CACd,GAAIA,KAAK,CAACC,KAAK,CAAE,CACfP,QAAQ,CAACM,KAAK,CAACC,KAAK,CAAE,CAAEC,IAAI,CAAE,QAAQ,CAAEC,OAAO,CAAEH,KAAK,CAACI,MAAO,CAAC,CAAC,CAClE,CAAC,IAAM,CACLvB,cAAc,CAAC,uBAAuB,CAAC,CACzC,CACF,CAAC,wBAAAgB,QAAA,CAAAQ,IAAA,MAAAb,OAAA,GACF,kBAXK,CAAAL,QAAQA,CAAAmB,EAAA,CAAAC,GAAA,SAAAnB,KAAA,CAAAoB,KAAA,MAAAC,SAAA,OAWb,CAED,mBACE/B,KAAA,CAACJ,QAAQ,EAACa,QAAQ,CAAEA,QAAS,CAAAuB,QAAA,eAC3BlC,IAAA,CAACL,UAAU,EAACwC,IAAI,CAAC,OAAO,CAACC,WAAW,CAAC,mGAAmB,CAACC,QAAQ,OAAG,cACpErC,IAAA,CAACJ,aAAa,EAACuC,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,sCAAQ,CAACC,QAAQ,OAAG,cAC/DrC,IAAA,CAACH,aAAa,EAAC6B,IAAI,CAAC,QAAQ,CAACnB,OAAO,CAAEA,OAAQ,CAAA2B,QAAA,CAAC,gCAE/C,EAAgB,GACP,CAEf,CAAC,CAMD,cAAe,CAAA/B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}