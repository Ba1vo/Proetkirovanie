{"ast":null,"code":"import axios from 'axios';\nconst HOST_URL = 'http://localhost:4000';\nconst API_URL = `${HOST_URL}/api`;\nconst publicApi = axios.create({\n  baseURL: API_URL\n});\nconst withCredentialsApi = axios.create({\n  baseURL: API_URL,\n  withCredentials: true\n});\nconst authApi = axios.create({\n  withCredentials: true,\n  baseURL: API_URL\n});\n\n//authApi.interceptors.request.use((config) => {\n//config.headers.Authorization = `JWT ${localStorage.getItem('token')}`\n//return config\n//})\n\n/*authApi.interceptors.response.use(\n  (config) => {\n    return config\n  },\n  async (error) => {\n    const originalReq = error.config\n    if (\n      error.response.status === 401 &&\n      error.config &&\n      !error.config._isRetry\n    ) {\n      originalReq._isRetry = true\n      try {\n        const res = await withCredentialsApi.post('/login/refresh')\n        localStorage.setItem('token', res.data.access)\n        return authApi.request(originalReq)\n      } catch (error) {\n        throw error\n      }\n    }\n    throw error\n  }\n)*/\n\nexport { HOST_URL, API_URL, publicApi, withCredentialsApi, authApi };","map":{"version":3,"names":["axios","HOST_URL","API_URL","publicApi","create","baseURL","withCredentialsApi","withCredentials","authApi"],"sources":["C:/Users/1/Proetkirovanie/ui/src/api/index.js"],"sourcesContent":["import axios from 'axios'\n\nconst HOST_URL = 'http://localhost:4000'\nconst API_URL = `${HOST_URL}/api`\n\nconst publicApi = axios.create({\n  baseURL: API_URL,\n})\n\nconst withCredentialsApi = axios.create({\n  baseURL: API_URL,\n  withCredentials: true,\n})\n\nconst authApi = axios.create({\n  withCredentials: true,\n  baseURL: API_URL,\n})\n\n//authApi.interceptors.request.use((config) => {\n  //config.headers.Authorization = `JWT ${localStorage.getItem('token')}`\n  //return config\n//})\n\n/*authApi.interceptors.response.use(\n  (config) => {\n    return config\n  },\n  async (error) => {\n    const originalReq = error.config\n    if (\n      error.response.status === 401 &&\n      error.config &&\n      !error.config._isRetry\n    ) {\n      originalReq._isRetry = true\n      try {\n        const res = await withCredentialsApi.post('/login/refresh')\n        localStorage.setItem('token', res.data.access)\n        return authApi.request(originalReq)\n      } catch (error) {\n        throw error\n      }\n    }\n    throw error\n  }\n)*/\n\nexport { HOST_URL, API_URL, publicApi, withCredentialsApi, authApi }\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,uBAAuB;AACxC,MAAMC,OAAO,GAAI,GAAED,QAAS,MAAK;AAEjC,MAAME,SAAS,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC7BC,OAAO,EAAEH;AACX,CAAC,CAAC;AAEF,MAAMI,kBAAkB,GAAGN,KAAK,CAACI,MAAM,CAAC;EACtCC,OAAO,EAAEH,OAAO;EAChBK,eAAe,EAAE;AACnB,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAGR,KAAK,CAACI,MAAM,CAAC;EAC3BG,eAAe,EAAE,IAAI;EACrBF,OAAO,EAAEH;AACX,CAAC,CAAC;;AAEF;AACE;AACA;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASD,QAAQ,EAAEC,OAAO,EAAEC,SAAS,EAAEG,kBAAkB,EAAEE,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}